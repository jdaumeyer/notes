<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2022-10-06 Thu 16:45 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>The C Language</title>
<meta name="author" content="Jackson Daumeyer" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" type="text/css" href="https://jdaumeyer.github.io/notes/css/style.css" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">The C Language</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgd26f876">Intro to C</a>
<ul>
<li><a href="#orgefa62f5">What is C</a></li>
<li><a href="#orge992208">ANSI C</a></li>
<li><a href="#org46faf64">Errors</a>
<ul>
<li><a href="#orgf9f21a3">Compile Time Errors</a></li>
<li><a href="#org270b52b">Run Time Errors</a></li>
</ul>
</li>
<li><a href="#org0aacdf6">Preprocessor</a>
<ul>
<li><a href="#org2c3cabb">What is the preprocessor?</a></li>
</ul>
</li>
<li><a href="#org07f1d77">Functions</a>
<ul>
<li><a href="#orga60d589">Declarations</a></li>
<li><a href="#org77f0409">Definitions</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org3fadaf5">Compilation</a>
<ul>
<li><a href="#org195ea4a">GCC</a>
<ul>
<li><a href="#org4bb4b96">Mandatory Flags</a></li>
</ul>
</li>
<li><a href="#orgab48e52">Make</a>
<ul>
<li><a href="#org1f2c54b">Makefiles</a></li>
<li><a href="#orgdd5245a">Variables</a></li>
<li><a href="#org087362b">Examples</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org09c7c95">I/O</a>
<ul>
<li><a href="#org46ab51f">Basic I/O</a></li>
<li><a href="#orgc452216">Formatted Input</a>
<ul>
<li><a href="#org9e5e2d3">Input</a></li>
<li><a href="#orgf6cc579">Output</a></li>
<li><a href="#orgb628077">Format Strings</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org56dffcb">Structures</a>
<ul>
<li><a href="#org7db42d1">Dissection of a struct</a></li>
<li><a href="#orgcbe04f0">Using a struct</a>
<ul>
<li><a href="#orgd95ddda">But what about pointers?</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgee4d9c7">Variable Storage</a>
<ul>
<li><a href="#orgca0e459">Scope</a>
<ul>
<li><a href="#orga879bbf">Block Scope</a></li>
<li><a href="#org19f44d2">File Scope</a></li>
<li><a href="#org4403bab">Prototype Scope</a></li>
</ul>
</li>
<li><a href="#org82c4883">Storage Class</a>
<ul>
<li><a href="#org43a3c40">Static</a></li>
<li><a href="#org6c61b5a">Auto</a>
<ul>
<li><a href="#org020825e">Register</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgff17142">Linkage</a>
<ul>
<li><a href="#org3066f11">External</a></li>
<li><a href="#orgd40b896">Internal</a></li>
<li><a href="#orgfb9a0bd">None</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orgd26f876" class="outline-2">
<h2 id="orgd26f876">Intro to C</h2>
<div class="outline-text-2" id="text-orgd26f876">
<p>
This is intended to give you a general overview of <b>C</b>. The specifics of writing in <b>C</b> are covered later.
</p>
</div>
<div id="outline-container-orgefa62f5" class="outline-3">
<h3 id="orgefa62f5">What is C</h3>
<div class="outline-text-3" id="text-orgefa62f5">
<p>
<b>C</b> is a programming language developed by Dennis Ritchie at Bell Labs. It was designed to be used on computers with extremely low power.
</p>

<p>
If you&rsquo;ve only programmed in <b>Java</b> so far, <b>C</b> is different in some key ways:
</p>
<ul class="org-ul">
<li>Procedural <i>not</i> object oriented
<ul class="org-ul">
<li>No inheritance</li>
<li>No function overloading</li>
</ul></li>
<li>Allows direct manipulation of memory</li>
<li>Fully compiled to machine code</li>
<li>No garbage collection</li>
<li>No encapsulation</li>
</ul>
</div>
</div>

<div id="outline-container-orge992208" class="outline-3">
<h3 id="orge992208">ANSI C</h3>
<div class="outline-text-3" id="text-orge992208">
<p>
<b>C</b> as a language has existed for quite some time. During this time it has developed a lot of different standards. The standard that we will be using in this class is referred to as <b>ANSI C</b> or <b>C89/90</b>.
</p>

<p>
While they are different from modern versions of <b>C</b>, it is easier to go from <b>ANSI C</b> to &ldquo;modern C&rdquo; then the other way around. The key differences are:
</p>
<ul class="org-ul">
<li>No in-line declarations.</li>
<li>No single line <code>//</code> comments, only <code>/**/</code> comments.</li>
<li>There are more but standards are confusing.</li>
</ul>
</div>
</div>

<div id="outline-container-org46faf64" class="outline-3">
<h3 id="org46faf64">Errors</h3>
<div class="outline-text-3" id="text-org46faf64">
<p>
There are two different times that errors can occur; <b>Compile Time</b> and <b>Run Time</b>.
</p>
</div>

<div id="outline-container-orgf9f21a3" class="outline-4">
<h4 id="orgf9f21a3">Compile Time Errors</h4>
<div class="outline-text-4" id="text-orgf9f21a3">
<p>
Sometimes referred to as <b>Static Errors</b> can come in a few different types:
</p>
<dl class="org-dl">
<dt><b>Syntax Errors</b></dt><dd>Things that make the program an invalid <b>C</b> program.</dd>
<dt><b>Linkage Errors</b></dt><dd>When the <i>linker</i> can&rsquo;t find what it&rsquo;s looking for.</dd>
</dl>
</div>
</div>

<div id="outline-container-org270b52b" class="outline-4">
<h4 id="org270b52b">Run Time Errors</h4>
<div class="outline-text-4" id="text-org270b52b">
<p>
Sometimes referred to as <b>Dynamic Errors</b> these can also come in a few different types:
</p>
<dl class="org-dl">
<dt>Semantic Errors</dt><dd>An error that the compiler won&rsquo;t discover but will crash the program. i.e. division by zero.</dd>
</dl>
</div>
</div>
</div>

<div id="outline-container-org0aacdf6" class="outline-3">
<h3 id="org0aacdf6">Preprocessor</h3>
<div class="outline-text-3" id="text-org0aacdf6">
<div class="org-src-container">
<pre class="src src-C"><span style="color: #d0b75a; font-weight: bold;">#include</span> <span style="color: #81a2be;">&lt;</span><span style="color: #60b48a;">stdio.h</span><span style="color: #81a2be;">&gt;</span>
<span style="color: #d0b75a; font-weight: bold;">#include</span> <span style="color: #81a2be;">&lt;</span><span style="color: #60b48a;">stdlib.h</span><span style="color: #81a2be;">&gt;</span>

<span style="color: #81a2be;">int</span> <span style="color: #de935f;">main</span><span style="color: #81a2be;">()</span> <span style="color: #81a2be;">{</span>
    printf<span style="color: #85678f;">(</span><span style="color: #60b48a;">"Hello World!\n"</span><span style="color: #85678f;">)</span>;
    <span style="color: #81a2be;">return</span> <span style="color: #85678f;">(</span><span style="color: #81a2be;">EXIT_SUCCESS</span><span style="color: #85678f;">)</span>;
<span style="color: #81a2be;">}</span>
</pre>
</div>

<p>
This is a simple &ldquo;hello world&rdquo; program but pay attention to the two lines at the top. These are <b>Preprocessor directives</b>. Which means they&rsquo;re not <i>technically</i> <b>C</b> code.
</p>
</div>

<div id="outline-container-org2c3cabb" class="outline-4">
<h4 id="org2c3cabb">What is the preprocessor?</h4>
<div class="outline-text-4" id="text-org2c3cabb">
<p>
The <b>preprocessor</b> carries out tasks before the compiler runs. These tasks include:
</p>
<ul class="org-ul">
<li>Replacing calls for <code>#include</code> with the contents of the corresponding file.
<ul class="org-ul">
<li><code>#include</code> targets surrounded by <code>&lt;&gt;</code> refer to system libraries whereas targets surrounded by <code>""</code> are user defined files.</li>
</ul></li>
<li>Removing comments from the source file</li>
<li>Replace <i>macros</i> with the code they are defined to represent.
<ul class="org-ul">
<li><code>#define string1 string2</code> will result in the <b>preprocessor</b> replacing every occurance of <code>string1</code> with <code>string2</code>.</li>
<li>Macros don&rsquo;t end with a semicolon!</li>
</ul></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org07f1d77" class="outline-3">
<h3 id="org07f1d77">Functions</h3>
<div class="outline-text-3" id="text-org07f1d77">
<p>
A <b>function</b> is a number of statements grouped into a single logical unit.
</p>
<ul class="org-ul">
<li><b>C</b> is <b>pass by value</b>, this means that when a function is called with parameters a copy of with the value of those parameters is actually passed.</li>
</ul>
</div>

<div id="outline-container-orga60d589" class="outline-4">
<h4 id="orga60d589">Declarations</h4>
<div class="outline-text-4" id="text-orga60d589">
<p>
A <b>declaration</b> contains <i>only type information</i> no values. <b>Definitions</b> are used in the header file to inform the compiler about the function.
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 1: </span>Example of a <b>declaration</b></label><pre class="src src-c" id="orgd480f4c"><span style="color: #81a2be;">int</span> <span style="color: #de935f;">mult_values</span> <span style="color: #81a2be;">(</span><span style="color: #81a2be;">int</span> <span style="color: #e4e4e5;">a</span>, <span style="color: #81a2be;">int</span> <span style="color: #e4e4e5;">b</span><span style="color: #81a2be;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org77f0409" class="outline-4">
<h4 id="org77f0409">Definitions</h4>
<div class="outline-text-4" id="text-org77f0409">
<p>
A <b>definitions</b> contains type information, values and code. This is the method that you write in your program.
</p>
<ul class="org-ul">
<li>All <b>declarations</b> <i>must</i> precede the first non-declarative statement.</li>
</ul>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 2: </span>Example of a <b>definition</b></label><pre class="src src-c" id="org429b9b5"><span style="color: #81a2be;">int</span> <span style="color: #de935f;">mult_values</span> <span style="color: #81a2be;">(</span><span style="color: #81a2be;">int</span> <span style="color: #e4e4e5;">a</span>, <span style="color: #81a2be;">int</span> <span style="color: #e4e4e5;">b</span><span style="color: #81a2be;">)</span> <span style="color: #81a2be;">{</span>
    <span style="color: #81a2be;">return</span> <span style="color: #85678f;">(</span>a + <span style="color: #d0b75a; font-weight: bold;">2</span><span style="color: #85678f;">)</span> * b;
<span style="color: #81a2be;">}</span>
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org3fadaf5" class="outline-2">
<h2 id="org3fadaf5">Compilation</h2>
<div class="outline-text-2" id="text-org3fadaf5">
</div>
<div id="outline-container-org195ea4a" class="outline-3">
<h3 id="org195ea4a">GCC</h3>
<div class="outline-text-3" id="text-org195ea4a">
<p>
There are many different <b>C</b> compilers out there but we will be using the one in the <b>GCC</b> (GNU Compiler Collection) for this class.
</p>
</div>

<div id="outline-container-org4bb4b96" class="outline-4">
<h4 id="org4bb4b96">Mandatory Flags</h4>
<div class="outline-text-4" id="text-org4bb4b96">
<p>
The following command will be used to compile your projects for grading. <i>Any warnings, errors or failure to compile will result in a 0 on the assignment</i>!
</p>
<div class="org-src-container">
<pre class="src src-bash">gcc -ansi -pedantic -Wimplicit-function-declaration -Wreturn-type -g -o hello hello.c
</pre>
</div>
<dl class="org-dl">
<dt><code>-ansi</code></dt><dd>tells the compiler that we&rsquo;re writing ANSI C (c89/c90)</dd>
<dt><code>-pedantic</code></dt><dd>throw warnings when we write C that doesn&rsquo;t follow the ANSI standard</dd>
<dt><code>-Wimplicit-function-declaration</code> &amp; <code>-Wreturn-type</code></dt><dd>These are both used to throw warnings for some hard to debug errors.</dd>
<dt><code>-g</code></dt><dd>this tells the compiler to include the debugger with our compiled code.</dd>
<dt><code>-o [filename]</code></dt><dd>tells the compiler where to put our output file.</dd>
<dt><code>-c</code></dt><dd>Suppresses linking. This just makes it easier to build.</dd>
</dl>
</div>
</div>
</div>

<div id="outline-container-orgab48e52" class="outline-3">
<h3 id="orgab48e52">Make</h3>
<div class="outline-text-3" id="text-orgab48e52">
<p>
Make is a utility that builds/maintains programs.
</p>
<ul class="org-ul">
<li>Only builds files that need to be rebuilt.</li>
<li>Relies on a file to outline instructions and dependencies for building.</li>
<li><i>Unforgiving with whitespace</i></li>
</ul>

<p>
For example to build lab1, you would run:
</p>
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #81a2be;">make</span> -r lab1
</pre>
</div>
</div>

<div id="outline-container-org1f2c54b" class="outline-4">
<h4 id="org1f2c54b">Makefiles</h4>
<div class="outline-text-4" id="text-org1f2c54b">
<p>
A <code>Makefile</code> or <code>makefile</code> is a file in the same directory of your program that tells <b>make</b> how to build it.
</p>
<div class="org-src-container">
<pre class="src src-makefile"><span style="color: #81a2be;">targets</span>: dependency list
    commands
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdd5245a" class="outline-4">
<h4 id="orgdd5245a">Variables</h4>
<div class="outline-text-4" id="text-orgdd5245a">
<p>
When writing make files, we can use built in variables to make our commands easier to deal with.
</p>
<dl class="org-dl">
<dt><code>$@</code></dt><dd>The name of the target</dd>
<dt><code>$^</code></dt><dd>All of the dependencies</dd>
<dt><code>$&lt;</code></dt><dd>The first dependency</dd>
<dt><code>$*</code></dt><dd>The value of a wildcard (if used in the make target)</dd>
</dl>
</div>
</div>

<div id="outline-container-org087362b" class="outline-4">
<h4 id="org087362b">Examples</h4>
<div class="outline-text-4" id="text-org087362b">
<div class="org-src-container">
<pre class="src src-makefile"><span style="color: #81a2be;">lab5</span> : lab5.o
    gcc -g -o <span style="color: #81a2be;">$</span><span style="color: #81a2be;">@</span> $<span style="color: #81a2be;">^</span>

<span style="color: #81a2be;">lab5.o</span> : lab5.c
    gcc -ansi -pedantic -g -c $<span style="color: #81a2be;">&lt;</span> -o <span style="color: #81a2be;">$</span><span style="color: #81a2be;">@</span>
</pre>
</div>

<p>
When running <code>make -r lab5</code> with the above makefile, <code>make</code> will check to see if lab5.o is newer then the current lab5. If this is not the case or lab5.o doesn&rsquo;t exist, <code>make</code> will follow the <code>lab5.o</code> rule to create it and then return to making <code>lab5</code>
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org09c7c95" class="outline-2">
<h2 id="org09c7c95">I/O</h2>
<div class="outline-text-2" id="text-org09c7c95">
<p>
Because we&rsquo;re at the lower lever of programming with c, we need to worry about character encoding. In this class we will only be dealing with the <code>ASCII</code> (American Standards Computer Information Interchange) format.
</p>
</div>

<div id="outline-container-org46ab51f" class="outline-3">
<h3 id="org46ab51f">Basic I/O</h3>
<div class="outline-text-3" id="text-org46ab51f">
<p>
The built-in <b>C</b> I/O methods (<code>getchar()</code> and <code>putchar()</code>) are relatively simple only being able to handle one <code>char</code> at a time.
</p>
<dl class="org-dl">
<dt><code class="src src-C"><span style="color: #81a2be;">int</span> <span style="color: #de935f;">getchar</span><span style="color: #81a2be;">()</span></code></dt><dd>Returns the character received from stdin.</dd>
<dt><code class="src src-C"><span style="color: #81a2be;">int</span> <span style="color: #de935f;">putchar</span><span style="color: #81a2be;">(</span><span style="color: #81a2be;">int</span> <span style="color: #81a2be;">char</span><span style="color: #81a2be;">)</span></code></dt><dd>Outputs a character to stdout.</dd>
</dl>

<p>
Notice how <code class="src src-C"><span style="color: #de935f;">putchar</span><span style="color: #81a2be;">()</span></code> and <code class="src src-C"><span style="color: #de935f;">getchar</span><span style="color: #81a2be;">()</span></code> both deal with <code class="src src-C"><span style="color: #81a2be;">int</span></code>s, not <code class="src src-C"><span style="color: #81a2be;">char</span></code>s. This comes from <b>in-band signaling</b>.
</p>
<ul class="org-ul">
<li>If <code class="src src-C"><span style="color: #de935f;">getchar</span><span style="color: #81a2be;">()</span></code> and <code class="src src-C">putchar</code> both returned a <code class="src src-C"><span style="color: #81a2be;">char</span></code>, how would they tell you that they read an invalid character or were unable to place a character?</li>
</ul>
</div>
</div>

<div id="outline-container-orgc452216" class="outline-3">
<h3 id="orgc452216">Formatted Input</h3>
<div class="outline-text-3" id="text-orgc452216">
<p>
The built-in <b>C</b> methods are very primitive and can get overwhelming when working with multiple characters or inputs of types other then <code class="src src-C"><span style="color: #81a2be;">char</span></code>. So instead we will be using the <code class="src src-C"><span style="color: #de935f;">scanf</span><span style="color: #81a2be;">()</span></code> and <code class="src src-C"><span style="color: #de935f;">printf</span><span style="color: #81a2be;">()</span></code>.
</p>
<ul class="org-ul">
<li>These are <i>buffered</i> inputs meaning they can read multiple characters at a time, making our job easier.</li>
<li>Both <code class="src src-C"><span style="color: #de935f;">scanf</span><span style="color: #81a2be;">()</span></code> and <code class="src src-C"><span style="color: #de935f;">printf</span><span style="color: #81a2be;">()</span></code> are provided by <code>&lt;stdio.h&gt;</code>.</li>
</ul>
</div>

<div id="outline-container-org9e5e2d3" class="outline-4">
<h4 id="org9e5e2d3">Input</h4>
<div class="outline-text-4" id="text-org9e5e2d3">
<div class="org-center">
<p>
<code class="src src-C"><span style="color: #81a2be;">int</span> <span style="color: #de935f;">scanf</span><span style="color: #81a2be;">(</span><span style="color: #81a2be;">const</span> *<span style="color: #81a2be;">char</span> format, &amp;param1, &amp;param2, ...<span style="color: #81a2be;">)</span></code>
</p>
</div>
<ul class="org-ul">
<li><code class="src src-C"><span style="color: #de935f;">scanf</span><span style="color: #81a2be;">()</span></code> takes a format string to determine what it should be looking for in the input.</li>
<li>Pay attention to the <code>&amp;</code> in front of the parameters. <code class="src src-C"><span style="color: #de935f;">scanf</span><span style="color: #81a2be;">()</span></code> needs an address to update a variable because <b>C</b> is <i>pass by value</i></li>
<li>Returns a <code>1</code> if it was successful or a <code>0</code> otherwise.</li>
<li>It is important to make sure we are not at the <i>end of input</i> before running <code class="src src-C"><span style="color: #de935f;">scanf</span><span style="color: #81a2be;">()</span></code>. This is done with <code class="src src-C"><span style="color: #de935f;">feof</span><span style="color: #81a2be;">()</span></code>.</li>
</ul>
</div>
</div>

<div id="outline-container-orgf6cc579" class="outline-4">
<h4 id="orgf6cc579">Output</h4>
<div class="outline-text-4" id="text-orgf6cc579">
<div class="org-center">
<p>
<code class="src src-C"><span style="color: #81a2be;">int</span> <span style="color: #de935f;">printf</span><span style="color: #81a2be;">(</span><span style="color: #81a2be;">const</span> *<span style="color: #81a2be;">char</span> format, param1, param2, ...<span style="color: #81a2be;">)</span></code>
</p>
</div>
<ul class="org-ul">
<li>Outputs the format string with the parameters placed in.</li>
<li>Returns the number of characters outputted or a negative value if it was unsuccessful.</li>
</ul>
</div>
</div>

<div id="outline-container-orgb628077" class="outline-4">
<h4 id="orgb628077">Format Strings</h4>
<div class="outline-text-4" id="text-orgb628077">
<p>
<b>Format Strings</b> use the <code>%</code> character as a magic character.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org56dffcb" class="outline-2">
<h2 id="org56dffcb">Structures</h2>
<div class="outline-text-2" id="text-org56dffcb">
<p>
A <b>Structure</b> is an <i>aggregate data type</i> meaning that it is a collection of different data types.
</p>
<ul class="org-ul">
<li>Because it is an <i>aggregate data type</i>, the size of a struct is the size of all its members plus any <a href="https://iq.opengenus.org/size-of-struct-in-c/">additional packing</a>.</li>
<li>Although <b>Structures</b> and <b>Arrays</b> are very different, they are both an <i>aggregate data type</i>.</li>
</ul>


<p>
What <b>Structures</b> allow us to do is <i>extend</i> <b>C</b>&rsquo;s type system. Allowing us to create our own types.
</p>
</div>

<div id="outline-container-org7db42d1" class="outline-3">
<h3 id="org7db42d1">Dissection of a struct</h3>
<div class="outline-text-3" id="text-org7db42d1">
<div class="org-src-container">
<pre class="src src-C"><span style="color: #81a2be;">struct</span> <span style="color: #81a2be;">Tag</span> <span style="color: #81a2be;">{</span>
    <span style="color: #81a2be;">int</span> <span style="color: #e4e4e5;">a</span>;
    <span style="color: #81a2be;">int</span> <span style="color: #e4e4e5;">b</span>;
    <span style="color: #81a2be;">double</span> <span style="color: #e4e4e5;">c</span>;
    <span style="color: #81a2be;">char</span> <span style="color: #e4e4e5;">string</span><span style="color: #85678f;">[]</span>;
    <span style="color: #81a2be;">struct</span> <span style="color: #81a2be;">Other</span> <span style="color: #e4e4e5;">otherStruct</span>;
    <span style="color: #81a2be;">struct</span> <span style="color: #81a2be;">Tag</span> *<span style="color: #e4e4e5;">pointer</span>;
<span style="color: #81a2be;">}</span> <span style="color: #81a2be;">variable</span> <span style="color: #e4e4e5;">list</span>;
</pre>
</div>
<dl class="org-dl">
<dt>struct Tag</dt><dd>is the name of the struct</dd>
<dt>{&#x2026;}</dt><dd>Inside the curly braces are all the <b>members</b> of the struct.
<ul class="org-ul">
<li>The only thing that can&rsquo;t be included in a <b>structure</b> is itself (However a pointer to the same type will work).</li>
</ul></dd>
<dt>variable  list</dt><dd>is where all the variable declarations will go. They will all be of type <code>struct Tag</code>
<ul class="org-ul">
<li>Any variable can be declared here, including <b>pointers</b> and <b>arrays</b></li>
</ul></dd>
</dl>
</div>
</div>


<div id="outline-container-orgcbe04f0" class="outline-3">
<h3 id="orgcbe04f0">Using a struct</h3>
<div class="outline-text-3" id="text-orgcbe04f0">
<p>
The interesting part of <b>Structures</b> is the ability to access the members. This is done with the <code>.</code> operator.
</p>

<div class="org-src-container">
<pre class="src src-C"><span style="color: #81a2be;">struct</span> <span style="color: #81a2be;">Tag</span> <span style="color: #81a2be;">{</span>
    <span style="color: #81a2be;">int</span> <span style="color: #e4e4e5;">a</span>;
<span style="color: #81a2be;">}</span> <span style="color: #e4e4e5;">data</span>;

data.a = <span style="color: #d0b75a; font-weight: bold;">0</span>;
</pre>
</div>
</div>

<div id="outline-container-orgd95ddda" class="outline-4">
<h4 id="orgd95ddda">But what about pointers?</h4>
<div class="outline-text-4" id="text-orgd95ddda">
<p>
If we&rsquo;re using a pointer to a struct, things will get weird because the <code>.</code> operator has higher precedence then <code>*</code>.
</p>
<div class="org-src-container">
<pre class="src src-C"><span style="color: #81a2be;">(</span>*structPointer<span style="color: #81a2be;">)</span>.value
</pre>
</div>

<p>
There is also the <code>-&gt;</code> operator.
</p>
<div class="org-src-container">
<pre class="src src-C">structPointer-&gt;value
<span style="color: #655c5a;">/* </span><span style="color: #655c5a;">is the same as</span><span style="color: #655c5a;">*/</span>
<span style="color: #81a2be;">(</span>*structPointer<span style="color: #81a2be;">)</span>.value
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-orgee4d9c7" class="outline-2">
<h2 id="orgee4d9c7">Variable Storage</h2>
<div class="outline-text-2" id="text-orgee4d9c7">
</div>
<div id="outline-container-orgca0e459" class="outline-3">
<h3 id="orgca0e459">Scope</h3>
<div class="outline-text-3" id="text-orgca0e459">
<p>
<b>Scope</b> refers to where a variable name actually exists and can holds value.
</p>
</div>
<div id="outline-container-orga879bbf" class="outline-4">
<h4 id="orga879bbf">Block Scope</h4>
<div class="outline-text-4" id="text-orga879bbf">
<p>
Anything declared inside a set of curly braces <code>{}</code> is considered <b>block scope</b>.
</p>
<ul class="org-ul">
<li>For <i>ANSI</i> <b>C89</b> all <b>block scope</b> declarations  must be at the top of the block.</li>
</ul>
<div class="org-src-container">
<pre class="src src-C"><span style="color: #81a2be;">void</span> <span style="color: #de935f;">main</span><span style="color: #81a2be;">()</span> <span style="color: #81a2be;">{</span>
    <span style="color: #81a2be;">int</span> <span style="color: #e4e4e5;">x</span>;
    x++;
<span style="color: #81a2be;">}</span>
</pre>
</div>
<ul class="org-ul">
<li>In the above snippet, x is a <b>block scope</b> variable</li>
</ul>
</div>
</div>
<div id="outline-container-org19f44d2" class="outline-4">
<h4 id="org19f44d2">File Scope</h4>
<div class="outline-text-4" id="text-org19f44d2">
<p>
Essentially anything outside of <b>block scope</b> is probably be <b>file scope</b>. They comprise of global variables and non-static functions.
</p>
<div class="org-src-container">
<pre class="src src-C"><span style="color: #81a2be;">int</span> <span style="color: #e4e4e5;">x</span> = <span style="color: #d0b75a; font-weight: bold;">0</span>;
<span style="color: #81a2be;">void</span> <span style="color: #de935f;">func</span><span style="color: #81a2be;">()</span> <span style="color: #81a2be;">{</span>
    x++;
<span style="color: #81a2be;">}</span>
</pre>
</div>
<ul class="org-ul">
<li>In the above snippet, <code>x</code> and <code>func</code> are both in <b>file scope</b></li>
</ul>
</div>
</div>
<div id="outline-container-org4403bab" class="outline-4">
<h4 id="org4403bab">Prototype Scope</h4>
<div class="outline-text-4" id="text-org4403bab">
<p>
<b>Prototype scope</b> is specific to function parameters
</p>
<div class="org-src-container">
<pre class="src src-C"><span style="color: #81a2be;">int</span> <span style="color: #de935f;">func</span> <span style="color: #81a2be;">(</span><span style="color: #81a2be;">int</span> <span style="color: #e4e4e5;">x</span>, <span style="color: #81a2be;">int</span> <span style="color: #e4e4e5;">y</span><span style="color: #81a2be;">)</span>;
</pre>
</div>
<ul class="org-ul">
<li>In the above snippet, <code>x</code> and <code>y</code> are in <b>prototype scope</b></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org82c4883" class="outline-3">
<h3 id="org82c4883">Storage Class</h3>
<div class="outline-text-3" id="text-org82c4883">
<p>
<b>Storage Class</b> is the type of <i>memory</i> where data is stored.
</p>
</div>
<div id="outline-container-org43a3c40" class="outline-4">
<h4 id="org43a3c40">Static</h4>
<div class="outline-text-4" id="text-org43a3c40">
<p>
<b>Static</b> is overloaded in <b>C</b>. It means a few different things in different contexts.
</p>
<ul class="org-ul">
<li>For most data, static moves the data to be stored on the heap, and initializes it at <i>load time</i>.</li>
<li>For things that are already static (i.e. function names) it changes the linkage from <b>External</b></li>
</ul>
</div>
</div>
<div id="outline-container-org6c61b5a" class="outline-4">
<h4 id="org6c61b5a">Auto</h4>
<div class="outline-text-4" id="text-org6c61b5a">
<p>
<b>Automatic</b> storage class puts things on the stack. Anything declared inside a block is <b>automatic</b> by default and the memory is created during runtime.
</p>
<ul class="org-ul">
<li>All parameters are <b>automatic</b></li>
</ul>
</div>
<div id="outline-container-org020825e" class="outline-5">
<h5 id="org020825e">Register</h5>
<div class="outline-text-5" id="text-org020825e">
<p>
<b>Registers</b> are a subtype of <b>automatic</b>. Theses are the fastest type of memory and stored on the cpu.
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-orgff17142" class="outline-3">
<h3 id="orgff17142">Linkage</h3>
<div class="outline-text-3" id="text-orgff17142">
</div>
<div id="outline-container-org3066f11" class="outline-4">
<h4 id="org3066f11">External</h4>
<div class="outline-text-4" id="text-org3066f11">
<p>
<b>External Linkage</b> refers things that are accessible outside of the file where they&rsquo;re declared. This is the default for all <b>file scope</b> variables.
</p>
</div>
</div>
<div id="outline-container-orgd40b896" class="outline-4">
<h4 id="orgd40b896">Internal</h4>
<div class="outline-text-4" id="text-orgd40b896">
<p>
<b>Internal Linkage</b> are things that are only available in the current file. In <b>file scope</b> the keyword <code>static</code> changes the linkage to <b>internal</b>
</p>
</div>
</div>
<div id="outline-container-orgfb9a0bd" class="outline-4">
<h4 id="orgfb9a0bd">None</h4>
<div class="outline-text-4" id="text-orgfb9a0bd">
<p>
All <b>block scope</b> variables have no linkage. Meaning they are only available in the block where they&rsquo;re declared.
</p>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Jackson Daumeyer</p>
<p class="date">Created: 2022-10-06 Thu 16:45</p>
</div>
</body>
</html>
